import{S as T,P as V,A,a as B,W as R,b as W,T as O,M as P,c as F,d as L,e as q,f as j,V as z,R as G,g as X}from"./three.module-B4Fn5_qM.js";import"./ViewportDepthNode-Dli5r8BJ.js";import{O as Y}from"./OrbitControls-BsCVhYiY.js";import{d as D,r as I,b as N,n as J,c as K,a as C,o as Q,_ as U}from"./index-CzsALufh.js";const Z={class:"three6"},$=D({__name:"house",setup(ee){const o=I(null);return N(()=>{J(()=>{if(!o.value)return;const n=new T,t=new V(75,o.value.offsetWidth/o.value.offsetHeight,.1,1e3);t.position.set(0,10,50),t.lookAt(0,0,0);const M=new A(16777215,1);n.add(M);const y=new B(16777215,1);y.position.set(5,5,5),n.add(y);const e=new R({antialias:!0});e.setSize(o.value.offsetWidth,o.value.offsetHeight),e.shadowMap.enabled=!0,o.value.appendChild(e.domElement);const g=new Y(t,e.domElement);g.enableDamping=!0,g.addEventListener("change",()=>{e==null||e.render(n,t)});const E=new W(100);n.add(E);const f=new O,S=f.load("../../public/image/house/livingRoom.jpg"),w=new P(new F(16,32,32),new L({map:S}));w.geometry.scale(12,12,-12),n.add(w);const x=f.load("../../src/assets/logo.jpg"),a=new q(new j({map:x}));a.scale.set(20,20,20),a.position.set(-100,-10,-80),a.position.set(-150,5,-100),n.add(a),o.value.offsetWidth,o.value.offsetHeight;const c=document.querySelector(".tips"),h=new G,i=new z,s=o.value.getBoundingClientRect();e.domElement.addEventListener("mousemove",r=>{const p=r.clientX-s.left,d=r.clientY-s.top;console.log("mouse:",p,d),i.x=p/s.width*2-1,i.y=-(d/s.height)*2+1,console.log("event:",i),h.setFromCamera(i,t);const l=h.intersectObject(a);if(console.log(l.length),l.length){const m=new X(l[0].object.position.x,l[0].object.position.y,l[0].object.position.z).project(t),u=s.width/2,_=s.height/2,k=u*m.x+u,H=-_*m.y+_-c.clientHeight/230;c.style.display="block",c.style.left=k-30+"px",c.style.top=H-40+"px"}else c.style.display="none",c.style.left=0,c.style.top=0}),e.domElement.addEventListener("mousedown",r=>{const p=r.clientX-s.left,d=r.clientY-s.top;if(console.log("mouse:",p,d),i.x=p/s.width*2-1,i.y=-(d/s.height)*2+1,console.log("event:",i),h.setFromCamera(i,t),h.intersectObject(a).length){const b=f.load("../../public/image/house/kitchen.jpg"),m=new L({map:b}),u=new j({map:x});a.material=u,a.position.set(-150,40,40),w.material=m}});function v(){requestAnimationFrame(v),e==null||e.render(n,t),g.update()}v()})}),(n,t)=>(Q(),K("div",Z,[C("div",{ref_key:"threeContainer",ref:o,class:"three-container",style:{height:"500px"}},null,512),t[0]||(t[0]=C("div",{class:"tips"},"点我进入啊",-1))]))}}),ae=U($,[["__scopeId","data-v-31a00ff1"]]);export{ae as default};
